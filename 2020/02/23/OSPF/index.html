<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=11,IE=10,IE=9,IE=8" >
    <meta name="baidu-site-verification" content="dIcXMeY8Ya" />
    
    <title>OSPF协议 | zen&#39;s blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" >
    <meta name="keywords" content="zen, 运维, 云计算" >
    <meta name="description" content="杜振铨的博客小岛" >

    
    <link rel="alternative" href="/atom.xml" title="zen&#39;s blog" type="application/atom+xml" >
    
    
    <link rel="shortcut icon" href="../../../../favicon.ico" >
    
    
<link rel="stylesheet" href="../../../../css/style.css">

    <!--[if lt IE 9]>
    
<script src="../../../../js/html5.js"></script>

    <![endif]-->
    
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?d5ebf515ab530cfbdda5f5c85093fb41";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


<meta name="generator" content="Hexo 4.2.0"></head>

<body class="home">
    <!--[if lt IE 9]>
    <div class="browsehappy">
        当前网页 <strong>不支持</strong>
        你正在使用的浏览器. 为了正常的访问, 请 <a href="http://browsehappy.com/" target="_blank" rel="noopener">升级你的浏览器</a>.
    </div>
    <![endif]-->

    <!-- 博客头部 -->
    <header class="header">
    <section class="container header-main">
        <div class="logo">
            <a href="../../../../index.html">
                <div class="cover">
                    <span class="name">zen&#39;s blog</span>
                    <span class="description"></span>
                </div>
            </a>
        </div>
        <div class="dropnav icon-paragraph-justify" id="JELON__btnDropNav"></div>
        <ul class="menu hidden" id="JELON__menu">
            
            <li rel="" class="item ">
                <a href="../../../../index.html" title="首页" class="icon-home">&nbsp;首页</a>
            </li>
            
            <li rel="" class="item ">
                <a href="../../../../lab/" title="这是个BUG" class="icon-lab">&nbsp;这是个BUG</a>
            </li>
            
        </ul>
        <div class="profile clearfix">
            <div class="feeds fl">
                
                
                <p class="links">
                    
                        <a href="https://github.com/archks" target="_blank">Github</a>
                        |
                    
                        <a href="https://pages.coding.me" target="_blank">Hosted by Coding Pages</a>
                        
                    
                </p>
                <p class="sns">
                    
                        <a href="https://www.yuque.com/u174775" class="sinaweibo" target="_blank"><b>■</b> 语雀</a>
                    
                    <a href="javascript: void(0);" class="wechat">
                        <b>■</b>
                        博客
                        <span class="popover">
                            <img src="../../../../img/wechat_mp.jpg" width="120" height="120" alt="我的微信订阅号">
                            <i class="arrow"></i>
                        </span>
                    </a>
                </p>
                
            </div>
            <div class="avatar fr">
                <img src="/img/jelon.jpg" alt="avatar" title="Jelon" >
            </div>
        </div>
    </section>
</header>


    <!-- 博客正文 -->
    <div class="container body clearfix">
        <section class="content">
            <div class="content-main widget">
                <!-- 文章页 -->
<!-- 文章 -->
<article class="post article">
    <header class="text-center">
        <h3 class="post-title"><span>OSPF协议</span></h3>
    </header>
    <p class="post-meta text-center">
        Jelon 发表于
        <time datetime="2020-02-23T07:00:39.000Z">2020-02-23</time>
    </p>
    <div class="post-content">
        <p>身世杯中酒，万事皆空。古来三五个英雄。雨打风吹何处是，汉殿秦宫。<br>梦入少年丛，歌舞匆匆。老僧夜半误鸣钟。惊起西窗眠不得，卷地西风。</p>
<a id="more"></a>

<h1 id="OSPF"><a href="#OSPF" class="headerlink" title="OSPF"></a>OSPF</h1><p><strong>距离矢量路由协议</strong></p>
<p>​    路由器相互之间只更新路由表信息，并且逐条更新，依照传闻的更新，任何一台路由器对路由表的更改，都将直接影响到下游。</p>
<p><strong>链路状态路由协议</strong></p>
<p>​    每台路由器都选择一个IP地址作为自己的名字，（Router-ID）</p>
<p>​    将自己的每个接口的网络信息，带宽信息进行描述，做成链路状态信息</p>
<p>​    将Router-ID和链路状态一起发送给自己的邻居，并且也帮助其他设备转发</p>
<p>​    最终会得到全网所有路由器的链路状态信息，通过分析可以得到全网拓扑图</p>
<p>​    使用最短路径算法（SPF），得到去往每个目的地的最短路线，得到路由表</p>
<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><ul>
<li>ospf在Cisco设备中的管理距离为120</li>
<li>不使用传输层的TCP/UDP进行数据封装，更新消息直接放在网络层后，协议号为89</li>
<li>OSPF使用触发更新的机制，和邻居共享链路状态信息，而不是共享路由信息</li>
<li>OSPF有邻居的概念，使用Hello消息来建立和维护邻居，在以太网中，10s更新一次，40s没收到就判定邻居失效。</li>
<li>OSPF建立邻居有7个状态</li>
<li>OSPF使用<code>224.0.0.5</code>和<code>224.0.0.6</code>来更新LSA(链路状态通告)</li>
<li>ospf宣告的环回口不管子网掩码是多少，传播的时候都时32位</li>
</ul>
<p>名词介绍</p>
<ol>
<li><p>Router-ID：相当于路由器的名字，因为需要靠Router-ID去辨识每个节点，所以在一个网络中不允许出现Router-ID一样。Router-ID会以稳定性作为第一要素。</p>
<blockquote>
<p>1、Router-ID会优先选择路由器LoopBack接口的IP地址，如果有多个选择数值，选择最大的。</p>
<p>2、Router-ID在没有LoopBack的情况下，会选择物理接口IP数值最大的，注意：这个接口必须要是UP状态</p>
<p>3、Router-ID允许手动指定，但往往不能即使生效，除非重启，不然还是稳定保持不变</p>
</blockquote>
</li>
<li><p>区域：Area，由于每台路由器都有全网的拓扑，如果这个网络比较庞大，那么任何一个网段的变化，都会导致OSPF路由器中链路状态数据库的数据发生变化，从而触发路由器对所有的目的地最佳路线进行重算。为了节约资源和加快路由器运行速度，所以OSPF可以进行区域划分，每台路由器只需要计算本区域的拓扑。对于其他区域的网段，只需要知道怎么离开本区域就行了。</p>
</li>
<li><p>OSPF有两种区域，一种是骨干区域，区域号为0，这个是固定的，只要是骨干区域，区域号必须是0，还有一种是非骨干区域，非骨干区域的区域号除了0都可以。非骨干区域必须和骨干区域相连，在正常情况下，所有的区域都可以学习到全网所有的路由条目，在人为优化的情况下，可以让非骨干区域只学习到本区域的路由，去其他区域从默认路由走，从而精简路由表。</p>
</li>
</ol>
<h1 id="邻居建立过程"><a href="#邻居建立过程" class="headerlink" title="邻居建立过程"></a>邻居建立过程</h1><ol>
<li>down</li>
</ol>
<blockquote>
<p>表示OSPF启动了，由于某些原因，还没开始发送Hello</p>
</blockquote>
<ol start="2">
<li>init</li>
</ol>
<blockquote>
<p>表示收到了对方发给我的Hello消息，但是没有在对方的Hello消息中，看的自己的Router-ID</p>
</blockquote>
<ol start="3">
<li>2-way</li>
</ol>
<blockquote>
<p>在收到对方发给我的Router-ID中发现了自己的Router-ID</p>
<p>开始选举谁做指定路由器DR</p>
</blockquote>
<ol start="4">
<li>exstart（预开始）</li>
</ol>
<blockquote>
<p>开始选举谁来主导这个链路状态信息交换的过程，选举（Slave，Master） </p>
<p>注意，此阶段互相传递的消息格式是链路状态数据库摘要（但是内容为空）。 </p>
</blockquote>
<ol start="5">
<li>exchange（预交换）</li>
</ol>
<blockquote>
<p>由Slave发送自己的链路状态数据的摘要给Master，由Master确认之后再将Slave需要的链路状态信息发回去</p>
</blockquote>
<ol start="6">
<li>loading</li>
</ol>
<blockquote>
<p>开始发送链路状态请求，然后接收对方发送的完整链路状态信息</p>
</blockquote>
<ol start="7">
<li>Full</li>
</ol>
<blockquote>
<p>完成当前阶段的链路状态数据库同步，之后只需要维持邻居关系和触发更新 </p>
</blockquote>
<p><img src="https://i.loli.net/2020/03/22/heNsJbzAd9TFCSZ.png" alt="1.png"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Neighbor ID     Pri   State           Dead Time   Address         Interface</span><br><span class="line">3.3.3.3           1   FULL/DR         00:00:37    192.168.23.3    Ethernet0/0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Neighbor_ID:  	邻居表里记录了邻居的Router-ID</span><br><span class="line">Pri: 			选举DR和BDR的用的优先级，默认是1</span><br><span class="line">State:			邻居建立过程中的状态和角色 [down,init,2-way,exstart,exchange,loading,full | DR,BDR,DRother]</span><br><span class="line">Dead_Time: 		邻居的死亡计时40s，每当收到邻居hello包的时候，就重置，计时到0，就删除邻居</span><br><span class="line">Address:  		建立邻居的IP</span><br><span class="line">Interface: 		建立邻居的接口</span><br></pre></td></tr></table></figure>







<h1 id="DR和BDR"><a href="#DR和BDR" class="headerlink" title="DR和BDR"></a>DR和BDR</h1><p><code>show ip ospf interface e0/0</code></p>
<p>查看OSPF接口信息，这个信息是和OSPF有关的</p>
<ol>
<li>在多路访问的网络（交换机所在网络）里，OSPF建立邻居关系，导致最终邻居关系较复杂，更新消息重复而多于，所以在MA网络中，选举一个路由器作为指定路由器（DR），在非DR中，再选一个BDR作为备份。当任何的更新来临时，会先发送给DB和BDR，再由DR发送给所有的DRother路由器</li>
<li>选取DR和BDR的时候，先看优先级，越大越优，如果是0，就不参与DR和BDR选举。如果优先级一样，就看Router-ID谁大，谁大谁就是DR，不过必须在第一台设备启动后的40s内选举，超出这个时间，就不可以抢占DR和BDR。</li>
<li>DR和BDR在监听224.0.0.5和224.0.0.6这个地址，DRother只监听224.0.0.5这个地址，当需要更新的时候，DRother会向224.0.0.6去更新，DR会向224.0.0.5去更新消息</li>
<li>为了让ospf网络快速收敛，可以考虑在合适的接口上配置p2p网络类型，让ospf邻居不进行40s等待</li>
</ol>
<h1 id="信息查看"><a href="#信息查看" class="headerlink" title="信息查看"></a>信息查看</h1><p><img src="https://i.loli.net/2020/03/22/iYBgL917R6kHUzy.png" alt="2.png"></p>
<h2 id="路由器配置"><a href="#路由器配置" class="headerlink" title="路由器配置"></a>路由器配置</h2><ul>
<li>R1</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">en</span><br><span class="line">conf t</span><br><span class="line">no ip <span class="keyword">do</span> lo </span><br><span class="line">line con 0</span><br><span class="line">no <span class="built_in">exec</span>-t</span><br><span class="line">logg syn</span><br><span class="line">ho R1</span><br><span class="line">int lo0</span><br><span class="line">ip add 1.1.1.1 255.255.255.255</span><br><span class="line">int e0/0</span><br><span class="line">ip add 192.168.13.1 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">int range e0/0 , lo0</span><br><span class="line">ip ospf 1 area 1</span><br><span class="line">end</span><br></pre></td></tr></table></figure>



<ul>
<li>R2</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">en</span><br><span class="line">conf t</span><br><span class="line">no ip <span class="keyword">do</span> lo </span><br><span class="line">line con 0</span><br><span class="line">no <span class="built_in">exec</span>-t</span><br><span class="line">logg syn</span><br><span class="line">ho R2</span><br><span class="line">int lo0</span><br><span class="line">ip add 2.2.2.2 255.255.255.255</span><br><span class="line">int e0/0</span><br><span class="line">ip add 192.168.23.2 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">int range e0/0 , lo0</span><br><span class="line">ip ospf 1 area 1</span><br><span class="line">end</span><br></pre></td></tr></table></figure>



<ul>
<li>R3</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">en</span><br><span class="line">conf t</span><br><span class="line">no ip <span class="keyword">do</span> lo </span><br><span class="line">line con 0</span><br><span class="line">no <span class="built_in">exec</span>-t</span><br><span class="line">logg syn</span><br><span class="line">ho R3</span><br><span class="line">int lo0</span><br><span class="line">ip add 3.3.3.3 255.255.255.255</span><br><span class="line">int e0/1</span><br><span class="line">ip add 192.168.13.3 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">int e0/2</span><br><span class="line">ip add 192.168.23.3 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">int e0/0</span><br><span class="line">ip add 192.168.34.3 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">int range e0/1 -2</span><br><span class="line">ip ospf 1 area 1</span><br><span class="line">int range e0/0 , lo0</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line">end</span><br></pre></td></tr></table></figure>



<ul>
<li>R4</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">en</span><br><span class="line">conf t</span><br><span class="line">no ip <span class="keyword">do</span> lo </span><br><span class="line">line con 0</span><br><span class="line">no <span class="built_in">exec</span>-t</span><br><span class="line">logg syn</span><br><span class="line">ho R4</span><br><span class="line">int lo0</span><br><span class="line">ip add 4.4.4.4 255.255.255.255</span><br><span class="line">int e0/0</span><br><span class="line">ip add 192.168.34.4 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">int e0/1</span><br><span class="line">ip add 192.168.45.4 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">int range e0/0 -1 , lo0</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line">end</span><br></pre></td></tr></table></figure>



<ul>
<li>R5</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">en</span><br><span class="line">conf t</span><br><span class="line">no ip <span class="keyword">do</span> lo </span><br><span class="line">line con 0</span><br><span class="line">no <span class="built_in">exec</span>-t</span><br><span class="line">logg syn</span><br><span class="line">ho R5</span><br><span class="line">int lo0</span><br><span class="line">ip add 5.5.5.5 255.255.255.255</span><br><span class="line">int e0/1</span><br><span class="line">ip add 192.168.45.5 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">int e0/0</span><br><span class="line">ip add 192.168.56.5 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">int range e0/1 , lo0</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line">int range e0/0 </span><br><span class="line">ip ospf 1 area 2</span><br><span class="line">end</span><br></pre></td></tr></table></figure>



<ul>
<li>R6</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">en</span><br><span class="line">conf t</span><br><span class="line">no ip <span class="keyword">do</span> lo </span><br><span class="line">line con 0</span><br><span class="line">no <span class="built_in">exec</span>-t</span><br><span class="line">logg syn</span><br><span class="line">ho R6</span><br><span class="line">int lo0 </span><br><span class="line">ip add 6.6.6.6 255.255.255.255 </span><br><span class="line">int e0/0</span><br><span class="line">ip add 192.168.56.6 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">int range e0/0 , lo0</span><br><span class="line">ip ospf 1 area 2</span><br><span class="line">end</span><br></pre></td></tr></table></figure>





<h2 id="当前路由器角色"><a href="#当前路由器角色" class="headerlink" title="当前路由器角色"></a>当前路由器角色</h2><ul>
<li>查看当前路由器的角色，此时R3是ABR(Area Border Router)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ show ip protocals</span><br><span class="line">Routing Protocol is <span class="string">"ospf 1"</span></span><br><span class="line">  Router ID 3.3.3.3							<span class="comment">#Router_ID</span></span><br><span class="line">  It is an area border router				<span class="comment">#ABR</span></span><br><span class="line">  Number of areas <span class="keyword">in</span> this router is 2. 2 normal 0 stub 0 nssa	</span><br><span class="line">  Maximum path: 4							<span class="comment">#最大负载均衡路径</span></span><br></pre></td></tr></table></figure>



<h2 id="DR-BDR"><a href="#DR-BDR" class="headerlink" title="DR/BDR"></a>DR/BDR</h2><ul>
<li>查看当前网络信息，包括DR，BDR，R1的e0/0接口信息</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">R1<span class="comment">#sh ip ospf int e0/0</span></span><br><span class="line">Ethernet0/0 is up, line protocol is up </span><br><span class="line">  Internet Address 192.168.13.1/24, Area 1, Attached via Interface Enable</span><br><span class="line">  									[区域为aera 1]</span><br><span class="line">  Process ID 1, Router ID 1.1.1.1, Network Type BROADCAST, Cost: 10</span><br><span class="line">  									[网络类型：Broadcast]</span><br><span class="line">  [传输延迟1s]                [状态BDR]   [优先级1]</span><br><span class="line">  $ Transmit Delay is 1 sec, State BDR, Priority 1</span><br><span class="line">  [DR路由器的RouterID]                [接口地址]</span><br><span class="line">  $ Designated Router (ID) 3.3.3.3, Interface address 192.168.13.3</span><br><span class="line">  [BDR路由器的RouterID]			            [接口地址]</span><br><span class="line">  $ Backup Designated router (ID) 1.1.1.1, Interface address 192.168.13.1</span><br><span class="line">  [时间间隔]                     $			$		$			$</span><br><span class="line">  Timer intervals configured, Hello 10, Dead 40, Wait 40, Retransmit 5</span><br><span class="line">    oob-resync timeout 40</span><br><span class="line">    Hello due <span class="keyword">in</span> 00:00:05	<span class="comment">#下一次发送Hello包是什么时候</span></span><br><span class="line">  Neighbor Count is 1, Adjacent neighbor count is 1 </span><br><span class="line">    Adjacent with neighbor 3.3.3.3  (Designated Router)</span><br></pre></td></tr></table></figure>



<h2 id="P2P网络"><a href="#P2P网络" class="headerlink" title="P2P网络"></a>P2P网络</h2><ul>
<li>使用point-to-point网络连接R5和R6，在P2P网络内，不选DR和BDR。默认网络为Broadcast。P2P网络可以不用发组播，就能建立邻居。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">R5(R6同理):</span><br><span class="line">int e0/0</span><br><span class="line">ip ospf network point-to-point</span><br></pre></td></tr></table></figure>



<p>但是，只有没有多路访问的网络(网络不存在交换机)方便使用p2p连接，不然就会出现三个路由器两两交替抢占邻居的现象，即一会收到A的Hello包，和A建立邻居，一会收到B的Hello包，和B建立邻居，等到A的Hello包再来，因为P2P网络只能点对点，所以又只好断掉B的邻居和A建立邻居，循环往复。</p>
<h1 id="链路数据"><a href="#链路数据" class="headerlink" title="链路数据"></a>链路数据</h1><h2 id="数据库字段"><a href="#数据库字段" class="headerlink" title="数据库字段"></a>数据库字段</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看</span></span><br><span class="line">show ip ospf database</span><br></pre></td></tr></table></figure>


<p><img src="https://i.loli.net/2020/03/22/2qpPs4ZbSCwVu59.png" alt="3.png"></p>
<p>字段解释：</p>
<ul>
<li>Link ID：(link state id),链路ID </li>
<li>ADV Router：(advertising router)发送LSA的路由器</li>
<li>Age ：正计时，寿命1h，OSPF有周期性更新的行为，周期为30min，每到30min，数据库进行泛洪，将所有数据全部发出，刷新Age</li>
<li>Seq：序列号 ，十六进制，序列号有新的就用新的，OSPF认为0x80000000是错误的，会先更新，然后删除。类似RIP中的16跳。</li>
<li>Checksum ：校验，MTU分组发送的时候需要校验</li>
<li>Link count：链路条数</li>
</ul>
<h2 id="LSA和多区域"><a href="#LSA和多区域" class="headerlink" title="LSA和多区域"></a>LSA和多区域</h2><ul>
<li>LSA（Link-State Advertisement ） ，链路状态通告：链路状态通告，里面包含了路由器的ID和链路状态相关的IP地址，带宽等信息。目前在OSPF内，一共有11中LSA</li>
<li>LSU（Link-State Advertisement）， 链路状态更新：链路状态更新，更新里面含有LSA</li>
<li>LSDB（Link-State Database）， 链路状态数据库：数据库中会记录每个LSA更新的路由器ID，会记录序列号，序列号用16进制表示。数据库每个LSA一个计时器，这个计时器是LSA老化时间，正常情况下1h就会然这条LSA失效，但OSPF每隔30min泛洪会更新一次LSA。</li>
</ul>
<h3 id="stub"><a href="#stub" class="headerlink" title="stub"></a>stub</h3><ul>
<li>Stub（末梢区域）：OSPF如果不想让非骨干区域学习到OSPF_AS外的条目，达到精简路由表的目的，可以在ABR上对末梢区域进行 <em>area 1  stub</em> 配置，这样ABR就不会向那个区域发送AS外的条目，还会产生一条 <em>0.0.0.0/0</em> 的路由，保障没有路由的情况下，这个区域也可以访问外界。本区域的所有路由器你都别忘了配置Stub，不然邻居关系无法建立。该区域不存在4、5类LSA。</li>
</ul>
<h3 id="stub-no-summary"><a href="#stub-no-summary" class="headerlink" title="stub no-summary"></a>stub no-summary</h3><ul>
<li>Stub no-summary：如果做到极致精简，可以让末梢区域连OSPF其他区域路由也不学习，可以在ABR上对末梢区域进行 <em>area 1 stub no-summary<em>。</em>no-summary</em> 只需要在ABR上加。<em>Stub no-summary</em> 也被称为完全末梢区域。该区域不存在4、5类LSA，以及除了ABR默认路由三类LSA以外的3类</li>
</ul>
<h3 id="nssa"><a href="#nssa" class="headerlink" title="nssa"></a>nssa</h3><ul>
<li>NSSA<em>（not so stub area）<em>：次末梢区域。由于Stub区域无法存在4、5类LSA，所以stub区域无法引入外部路由，如果使用NSSA区域来做末梢，就看可以引入外部路由条目，不过是以7类LSA的方式进入，并且会在NSSA区域边界路由器上被转为5类。</em>area 1 nssa</em>  默认情况下，NSSA不会像非骨干区域注入一条默认路由，不过可以手动注入一条默认路由的7类LSA：<em>area 1 nssa default-infor orig</em></li>
</ul>
<h3 id="T-nssa"><a href="#T-nssa" class="headerlink" title="T-nssa"></a>T-nssa</h3><ul>
<li>T-NSSA <em>（total-not so stub area）<em>完全次末梢区域，除了可以存在7类LSA引入外部路由以外，其他功能和stub no-summary一致。</em>area 1 nssa no-summary</em></li>
</ul>
<p>总结：·</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">`area 1 stub`  area1是末梢区域</span><br><span class="line"></span><br><span class="line">`area 1 stub no-summary` area1是完全末梢区域</span><br><span class="line"></span><br><span class="line">`area 1 nssa` area1是次末梢区域</span><br><span class="line"></span><br><span class="line">`area 1 nssa default-infor-origin` area1是次末梢区域，并且通告默认路由</span><br><span class="line"></span><br><span class="line">`area 1 nssa no-summary` area1完全次末梢区域</span><br></pre></td></tr></table></figure>









<h2 id="OSPF-Codes"><a href="#OSPF-Codes" class="headerlink" title="OSPF Codes"></a>OSPF Codes</h2><table>
<thead>
<tr>
<th>标识</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>O</td>
<td>区域内的路由</td>
</tr>
<tr>
<td>O IA</td>
<td>不同区域之间的路由</td>
</tr>
<tr>
<td>OE1</td>
<td>区域外的路由(不是OSPF协议的路由)，会累加METRIC值（默认20）</td>
</tr>
<tr>
<td>OE2</td>
<td>区域外的路由(不是OSPF协议的路由)，不累加METRIC值（默认20），由外部重分布进来默认使用OE2。</td>
</tr>
<tr>
<td>ON1</td>
<td>区域外的路由，由NSSA的ASBR重发布进来的，会累加Metric值</td>
</tr>
<tr>
<td>ON2</td>
<td>区域外路由，由NSSA的ASBR重发布进来的。NSSA区域中的路由器没有LSA-5，用LSA7算出的external路由，就标记为ON1/2</td>
</tr>
</tbody></table>
<h2 id="十一种LSA"><a href="#十一种LSA" class="headerlink" title="十一种LSA"></a>十一种LSA</h2><p>OSPF路由器会发送LSA通告，如果路由器太多，收到的通告就会很多，在进行SPF算法的时候，网络拓扑图太大，计算复杂，而且每当网络状态更新，都需要重复这样一次计算，计算量庞大。</p>
<ul>
<li>收到的LSA通告太多了，OSPF路由器的负担很</li>
<li>内部动荡会引起全网路由器的完全SPF计算</li>
<li>资源消耗过多，LSDB庞大，设备性能下降，影响数据转发</li>
<li>每台路由器都需要维护的路由表越来越大，单区域内路由无法汇总</li>
</ul>
<table>
<thead>
<tr>
<th>LSA类型代码</th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>1</strong></td>
<td>路由器LSA，本地路由器产生，用于描述自身的链路信息，如接口、带宽、ip地址</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>网络LSA，由DR产生，用于向全网告知自己所在的局域网信息 。</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>网络汇总LSA，ABR产生，将其他区域的路由条目转发到本区域，会丢失拓扑信息</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>ASBR汇总LSA，ASBR产生，告知本区域路由如何离开自治系统</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>AS外部LSA，ASBR产生，告知本区域路由器外面的路由条目</td>
</tr>
<tr>
<td>6</td>
<td>组成员LSA</td>
</tr>
<tr>
<td><strong>7</strong></td>
<td>NSSA外部LSA，nssa区域路由器重发布外界路由产生，导入其他区域会被ABR修改为5类LSA</td>
</tr>
<tr>
<td>8</td>
<td>外部属性LSA</td>
</tr>
<tr>
<td>9</td>
<td>Opaque LSA （链路本地范围）</td>
</tr>
<tr>
<td>10</td>
<td>Opaque LSA （本地区域范围）</td>
</tr>
<tr>
<td>11</td>
<td>Opaque LSA （AS范围）</td>
</tr>
</tbody></table>
<h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><p>1类LSA — 路由器LSA，每台路由器都会产生，用于描述自身的接口状态。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sh ip ospf database</span><br><span class="line"></span><br><span class="line">			Router Link States (Area 1)</span><br><span class="line">Link ID         ADV Router      Age         Seq<span class="comment">#       Checksum Link count</span></span><br><span class="line">1.1.1.1         1.1.1.1         1678        0x80000006 0x00997D 2</span><br><span class="line">2.2.2.2         2.2.2.2         1621        0x80000007 0x00559F 2</span><br><span class="line">3.3.3.3         3.3.3.3         1724        0x80000009 0x009362 2</span><br><span class="line"></span><br><span class="line">			路由链路状态表（区域1）</span><br><span class="line">连接的ID，从哪个路由器学到的，寿命，序列号，校验位，链路数</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看详细信息</span></span><br><span class="line">$ sh ip ospf database router 1.1.1.1</span><br></pre></td></tr></table></figure>





<h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><p>2类LSA  ：网络LSA，由DR产生，用于向全网告知自己所在的局域网信息 。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">R1<span class="comment">#sh ip ospf database network 192.168.13.3</span></span><br><span class="line">            OSPF Router with ID (1.1.1.1) (Process ID 1)</span><br><span class="line">		Net Link States (Area 1)</span><br><span class="line"><span class="comment">#头部信息</span></span><br><span class="line">  Routing Bit Set on this LSA <span class="keyword">in</span> topology Base with MTID 0</span><br><span class="line">  LS age: 56</span><br><span class="line">  Options: (No TOS-capability, DC)</span><br><span class="line">  LS Type: Network Links</span><br><span class="line">  Link State ID: 192.168.13.3 (address of Designated Router)</span><br><span class="line">  Advertising Router: 3.3.3.3</span><br><span class="line">  LS Seq Number: 80000001</span><br><span class="line">  Checksum: 0x7E26</span><br><span class="line">  Length: 32</span><br><span class="line">  Network Mask: /24</span><br><span class="line"><span class="comment">#当前区域内的路由器  </span></span><br><span class="line">	Attached Router: 3.3.3.3</span><br><span class="line">	Attached Router: 1.1.1.1</span><br></pre></td></tr></table></figure>



<h2 id="3"><a href="#3" class="headerlink" title="3"></a>3</h2><p>3类LSA  —路由器汇总LSA，由ABR（区域边界路由器）产生，用来将其他区域的路由进行汇总，然后转发到本区域。ARB传递的是路由表类似的LSA，会丢失掉拓扑信息，所以区域之间是无法得知拓扑。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">R6<span class="comment">#sh ip ospf database summary 3.3.3.3</span></span><br></pre></td></tr></table></figure>



<h2 id="4"><a href="#4" class="headerlink" title="4"></a>4</h2><p>4类LSA，ASBR汇总LSA，Link state ASBR，由ABR产生，用来告知本区域的路由器如何离开本OSPF自治系统</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#注入外部路由，并形成一条默认路由</span></span><br><span class="line">int e0/2</span><br><span class="line">ip add dhcp</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line">router ospf 1</span><br><span class="line">default-information originate always</span><br></pre></td></tr></table></figure>



<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">四类LSA：				Summary ASB Link States (Area 1)</span><br><span class="line">R1<span class="comment">#sh ip ospf database asbr-summary 4.4.4.4</span></span><br></pre></td></tr></table></figure>



<h2 id="5"><a href="#5" class="headerlink" title="5"></a>5</h2><p>5类LSA，由ASBR产生，用来告知本区域的路由器外面的条目</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">5类LSA：					Type-5 AS External Link States</span><br><span class="line"></span><br><span class="line">R1<span class="comment">#sh ip ospf database external </span></span><br><span class="line">            OSPF Router with ID (1.1.1.1) (Process ID 1)</span><br><span class="line">				Type-5 AS External Link States</span><br><span class="line">  Routing Bit Set on this LSA <span class="keyword">in</span> topology Base with MTID 0</span><br><span class="line">  LS age: 212</span><br><span class="line">  Options: (No TOS-capability, DC, Upward)</span><br><span class="line">  LS Type: AS External Link</span><br><span class="line">  Link State ID: 0.0.0.0 (External Network Number )</span><br><span class="line">  Advertising Router: 4.4.4.4</span><br><span class="line">  LS Seq Number: 80000001</span><br><span class="line">  Checksum: 0xFAEC</span><br><span class="line">  Length: 36</span><br><span class="line">  Network Mask: /0</span><br><span class="line">	Metric Type: 2 (Larger than any link state path)</span><br><span class="line">	MTID: 0 </span><br><span class="line">	Metric: 10 </span><br><span class="line">	Forward Address: 192.168.70.2</span><br><span class="line">	External Route Tag: 1</span><br></pre></td></tr></table></figure>





<h2 id="7"><a href="#7" class="headerlink" title="7"></a>7</h2><p>用于在NSSA区域表示外界路由，由NSSA区域的边界路由产生，发布到其他区域时，会被ABR转换为5类的LSA。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 需要在路由器上都配好	</span></span><br><span class="line">router ospf 1</span><br><span class="line">area 1 nssa </span><br><span class="line"></span><br><span class="line"><span class="comment">#在R1上引入外部路由，也就是NSSA区域的路由器上引入外部路由</span></span><br><span class="line">ip route 11.11.11.11 255.255.255.255 null0</span><br><span class="line">router ospf 1 </span><br><span class="line">re st su</span><br></pre></td></tr></table></figure>



<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">R2的链路状态数据库中，11.11.11.11是7类LSA</span><br><span class="line">			Type-7 AS External Link States (Area 1)</span><br><span class="line"></span><br><span class="line">Link ID         ADV Router      Age         Seq<span class="comment">#       Checksum Tag</span></span><br><span class="line">11.11.11.11     1.1.1.1         123         0x80000001 0x006BF6 0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">在NSSA边界路由器，11.11.11.11被转换为了5类LSA</span><br><span class="line">R5的链路状态数据库</span><br><span class="line">			Type-5 AS External Link States</span><br><span class="line">Link ID         ADV Router      Age         Seq<span class="comment">#       Checksum Tag</span></span><br><span class="line">0.0.0.0         4.4.4.4         343         0x80000002 0x00F8ED 1</span><br><span class="line">11.11.11.11     3.3.3.3         323         0x80000001 0x00C3A0 0</span><br></pre></td></tr></table></figure>



<p>有五类LSA但没有四类的LSA一定是因为存在NSSA区域导致的。</p>
<h1 id="路由汇总"><a href="#路由汇总" class="headerlink" title="路由汇总"></a>路由汇总</h1><p>由于OSPF不传递路由表信息，而是直接发送LSA信息，所以在一个区域内，所有路由器都有本区域的拓扑，所以在单个区域内无法完成路由汇总。</p>
<p>在OSPF中，汇总只能发生在ABR和ASBR上，这两种路由器转发的路由表的LSA信息。而其他路由器是转发拓扑信息</p>
<p><img src="https://i.loli.net/2020/03/22/iYBgL917R6kHUzy.png" alt=""></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">在R4添加</span><br><span class="line">int lo10</span><br><span class="line">ip add 172.16.1.1 255.255.255.0</span><br><span class="line">int lo20</span><br><span class="line">ip add 172.16.2.1 255.255.255.0</span><br><span class="line">int lo30</span><br><span class="line">ip add 172.16.3.1 255.255.255.0</span><br><span class="line">router ospf 1</span><br><span class="line">redistribute connected subnets </span><br><span class="line"><span class="comment"># 可以观察到R1、R3、R4等路由器都受到了路由条目明细，现在在ASBR上对路由做汇总</span></span><br><span class="line"><span class="comment"># 这里要注意，不能再ABR(R3)上对OSPF_as以外的路由进行汇总</span></span><br><span class="line">summary-address 172.16.0.0 255.255.0.0</span><br></pre></td></tr></table></figure>



<h1 id="注入默认路由"><a href="#注入默认路由" class="headerlink" title="注入默认路由"></a>注入默认路由</h1><p>在Stub网络里，注入默认路由无效，但是可以在NSSA网络注入。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">router ospf 1</span><br><span class="line">default-information originate</span><br><span class="line"><span class="comment">#这条命令用来产生一条五类的LSA，包含的是缺省路由信息。其它路由器收到这条LSA后，会计算出缺省路由0.0.0.0/0。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#命令生效的条件是该路由器上存在缺省路由。如果没有，而且仍然想发布这种LSA，要在命令后面加always，即</span></span><br><span class="line">default-information originate always</span><br></pre></td></tr></table></figure>






<p><img src="https://i.loli.net/2020/03/22/cZGTFBflSUjxnzp.png" alt="5.png"></p>
<h1 id="构造虚链路"><a href="#构造虚链路" class="headerlink" title="构造虚链路"></a>构造虚链路</h1><p>OSPF路由器要成为ABR的条件，除了要同时连接多个区域，必须满足有一个接口连接area 0。</p>
<p>虚链路会导致故障变得复杂，线路变得不稳定，所以一般是个临时解决方案，一个全新设计的网络架构里面虚链路是不合理的。</p>
<p><code>virtual-link</code>是ospf自带的虚链路解决方式，这种方式存在诸多问题，比如通过虚链路学习的LSA是DNA，含有DNA（do not age）的时间不会改变，这样会导致错误的LSA信息得不到更新，甚至虚链路邻居关系都不需要Hello包来维持。</p>
<p>R2：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">router ospf 1</span><br><span class="line">area 1 virtual-link 3.3.3.3</span><br><span class="line">area 1 virtual-link 4.4.4.4</span><br></pre></td></tr></table></figure>

<p>R3</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">router ospf 1</span><br><span class="line">area 1 virtual-link 2.2.2.2</span><br></pre></td></tr></table></figure>

<p>这时候，R3和R2建立了两个邻居关系，其中一个接口用的是<code>OSPF_VL0</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看虚链路</span></span><br><span class="line">show ip ospf virtual-links</span><br></pre></td></tr></table></figure>







<h1 id="HAMC"><a href="#HAMC" class="headerlink" title="HAMC"></a>HAMC</h1><p>只提供完整性和可用性，不提供机密性。OSPF分为接口和区域认证，但都是明文加密的</p>
<p>认证和RIP&amp;EIGRP类似。</p>
<h1 id="OSPF小练习"><a href="#OSPF小练习" class="headerlink" title="OSPF小练习"></a>OSPF小练习</h1><p><img src="https://i.loli.net/2020/03/22/pI9mKMXFxb8fqyg.png" alt="6.png"></p>
<p><img src="https://i.loli.net/2020/03/22/w4eh1xZJrXyEDTU.png" alt="7.png"></p>
<h2 id="区域配置"><a href="#区域配置" class="headerlink" title="区域配置"></a>区域配置</h2><p>R{1~4} ： <code>area 0</code></p>
<p>R{3-5} , R{4-6} ：<code>area 1</code></p>
<p>R{3,4}的环回口：<code>area 0</code></p>
<p>R{5,6}的环回口：<code>area 1</code></p>
<p>R{5,6,7}：<code>area 2</code></p>
<p>优化命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">en</span><br><span class="line">conf t</span><br><span class="line">no ip <span class="keyword">do</span> lo</span><br><span class="line">line con 0</span><br><span class="line">no <span class="built_in">exec</span>-t</span><br><span class="line">logg syn</span><br></pre></td></tr></table></figure>

<p>R1</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ho R1</span><br><span class="line">int e0/0</span><br><span class="line">ip add 192.168.12.1 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 0 </span><br><span class="line">int e0/1</span><br><span class="line">ip add 192.168.23.1 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line">int e0/2</span><br><span class="line">ip add 192.168.184.1 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line">int lo0 </span><br><span class="line">ip add 1.1.1.1 255.255.255.0</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line"><span class="keyword">do</span> sh ip int bri</span><br></pre></td></tr></table></figure>



<p>R2</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ho R2</span><br><span class="line">int e0/0</span><br><span class="line">ip add 192.168.12.2 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 0 </span><br><span class="line">int e0/1</span><br><span class="line">ip add 192.168.24.2 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line">int e0/2</span><br><span class="line">ip add 192.168.184.2 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line">int lo0 </span><br><span class="line">ip add 2.2.2.2 255.255.255.0</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line"><span class="keyword">do</span> sh ip int bri</span><br></pre></td></tr></table></figure>



<p>R3</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ho R3</span><br><span class="line">int e0/0</span><br><span class="line">ip add 192.168.13.3 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 0 </span><br><span class="line">int e0/1</span><br><span class="line">ip add 192.168.35.3 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 1</span><br><span class="line">int e0/2</span><br><span class="line">ip add 192.168.184.3 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line">int lo0 </span><br><span class="line">ip add 3.3.3.3 255.255.255.0</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line"><span class="keyword">do</span> sh ip int bri</span><br></pre></td></tr></table></figure>





<p>R4</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ho R4</span><br><span class="line">int e0/0</span><br><span class="line">ip add 192.168.24.4 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 0 </span><br><span class="line">int e0/1</span><br><span class="line">ip add 192.168.46.4 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 1</span><br><span class="line">int e0/2</span><br><span class="line">ip add 192.168.184.4 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line">int lo0</span><br><span class="line">ip add 4.4.4.4 255.255.255.0</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line"><span class="keyword">do</span> sh ip int bri</span><br></pre></td></tr></table></figure>





<p>R5</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ho R5</span><br><span class="line">int e0/0</span><br><span class="line">ip add 192.168.35.5 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 1</span><br><span class="line">int e0/1</span><br><span class="line">ip add 192.168.57.5 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 2</span><br><span class="line">int lo0</span><br><span class="line">ip add 5.5.5.5 255.255.255.0</span><br><span class="line">ip ospf 1 area 1</span><br><span class="line"><span class="keyword">do</span> sh ip int bri</span><br></pre></td></tr></table></figure>





<p>R6</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ho R6</span><br><span class="line">int e0/0</span><br><span class="line">ip add 192.168.46.6 255.255.255.0</span><br><span class="line">no sh </span><br><span class="line">ip ospf 1 area 1</span><br><span class="line">int e0/1 </span><br><span class="line">ip add 192.168.67.6 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 2</span><br><span class="line">int lo0</span><br><span class="line">ip add 6.6.6.6 255.255.255.0</span><br><span class="line">ip ospf 1 area 1</span><br><span class="line"><span class="keyword">do</span> sh ip int bri</span><br></pre></td></tr></table></figure>



<p>R7</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ho R7</span><br><span class="line">int e0/0</span><br><span class="line">ip add 192.168.57.7 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 2</span><br><span class="line">int e0/1</span><br><span class="line">ip add 192.168.67.7 255.255.255.0</span><br><span class="line">no sh</span><br><span class="line">ip ospf 1 area 2</span><br><span class="line">int lo0</span><br><span class="line">ip add 7.7.7.7 255.255.255.0</span><br><span class="line">ip ospf 1 area 2</span><br><span class="line"><span class="keyword">do</span> sh ip int bri</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2020/03/22/cI5aEsBDy9lOWHF.png" alt="8.png"></p>
<p>目前来说，R1的<code>1.1.1.1</code>是<code>ping</code>不通R7的<code>7.7.7.7</code>的，因为R5和R6构不成边界路由器ABR。所以需要在R3-R5，R4-R6之间构建VPN隧道。</p>
<h2 id="配置隧道"><a href="#配置隧道" class="headerlink" title="配置隧道"></a>配置隧道</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">R3</span><br><span class="line">int tun 0</span><br><span class="line">tu so 192.168.35.3 </span><br><span class="line">tu de 192.168.35.5</span><br><span class="line">ip add 172.16.35.3 255.255.255.0</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">R5:</span><br><span class="line">int tun 0</span><br><span class="line">tu so 192.168.35.5 </span><br><span class="line">tu de 192.168.35.3</span><br><span class="line">ip add 172.16.35.5 255.255.255.0</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line"></span><br><span class="line">R4</span><br><span class="line">int tun 0</span><br><span class="line">tu so 192.168.46.4 </span><br><span class="line">tu de 192.168.46.6</span><br><span class="line">ip add 172.16.46.4 255.255.255.0</span><br><span class="line">ip ospf 1 area 0</span><br><span class="line"></span><br><span class="line">R6</span><br><span class="line">int tun 0</span><br><span class="line">tu so 192.168.46.6 </span><br><span class="line">tu de 192.168.46.4</span><br><span class="line">ip add 172.16.46.6 255.255.255.0</span><br><span class="line">ip ospf 1 area 0</span><br></pre></td></tr></table></figure>



<p>当虚通道建立好的时候，就可以用R1<code>ping</code>通R7了。</p>
<p><strong>R1、R2在R{1~4}的区域中分别为DR和BDR</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">R1:</span><br><span class="line">int e0/2</span><br><span class="line">ip ospf priority 100</span><br><span class="line"></span><br><span class="line">R2:</span><br><span class="line">int e0/2</span><br><span class="line">ip ospf priority 90</span><br><span class="line"></span><br><span class="line">之后使用<span class="keyword">do</span> clear ip ospf process 重置ospf 的进程</span><br></pre></td></tr></table></figure>





<p><strong>其余的链路使用P2P网络</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">R1:</span><br><span class="line">int range e0/0 -2</span><br><span class="line">ip ospf net point-to-point</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">R2:</span><br><span class="line">int range e0/0 -1</span><br><span class="line">ip ospf net point-to-point</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">R3:</span><br><span class="line">int range e0/0 -1</span><br><span class="line">ip ospf net point-to-point</span><br><span class="line"></span><br><span class="line">R4:</span><br><span class="line">int range e0/0 -1</span><br><span class="line">ip ospf net point-to-point</span><br><span class="line"></span><br><span class="line">R5</span><br><span class="line">int range e0/0 -1</span><br><span class="line">ip ospf net point-to-point</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">R6</span><br><span class="line">int range e0/0 -1</span><br><span class="line">ip ospf net point-to-point</span><br><span class="line"></span><br><span class="line">R7</span><br><span class="line">int range e0/0 -1</span><br><span class="line">ip ospf net point-to-point</span><br></pre></td></tr></table></figure>

<h2 id="默认路由注入"><a href="#默认路由注入" class="headerlink" title="默认路由注入"></a>默认路由注入</h2><p><strong>4、R1,R2缺省路由</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">R1:</span><br><span class="line">interface Loopback1</span><br><span class="line"> ip address 100.1.1.1 255.255.255.0</span><br><span class="line"> ip ospf 1 area 0</span><br><span class="line">router ospf 1</span><br><span class="line"> default-information originate always</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">R2:</span><br><span class="line">interface Loopback1</span><br><span class="line"> ip address 100.1.1.1 255.255.255.0</span><br><span class="line"> ip ospf 1 area 0</span><br><span class="line">router ospf 1 </span><br><span class="line">default-information originate always metric 10</span><br></pre></td></tr></table></figure>

<p>metrci - 度量值，越小越优</p>
<h2 id="特殊区域"><a href="#特殊区域" class="headerlink" title="特殊区域"></a>特殊区域</h2><p><strong>5、area 2为特殊区域</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">R5:</span><br><span class="line">router ospf 1</span><br><span class="line">area 2 nssa no-summary</span><br><span class="line"></span><br><span class="line">R6:</span><br><span class="line">router ospf 1</span><br><span class="line">area 2 nssa no-summary</span><br><span class="line"></span><br><span class="line">R7</span><br><span class="line">router ospf 1</span><br><span class="line">redistribute connected subnets</span><br><span class="line">area 2 nssa</span><br></pre></td></tr></table></figure>



<div style="text-align:center;color:red"> ! ! ! OSPF 5类LSA比7类LSA更优先</div>
没有开启nssa之前的路由表：

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">O*E2  0.0.0.0/0 [110/10] via 172.16.46.4, 00:08:22, Tunnel0</span><br><span class="line">      1.0.0.0/32 is subnetted, 1 subnets</span><br><span class="line">O        1.1.1.1 [110/1011] via 172.16.46.4, 00:01:58, Tunnel0</span><br><span class="line">      2.0.0.0/32 is subnetted, 1 subnets</span><br><span class="line">O        2.2.2.2 [110/1011] via 172.16.46.4, 00:23:01, Tunnel0</span><br><span class="line">      3.0.0.0/32 is subnetted, 1 subnets</span><br><span class="line">O        3.3.3.3 [110/1011] via 172.16.46.4, 00:02:22, Tunnel0</span><br><span class="line">      4.0.0.0/32 is subnetted, 1 subnets</span><br><span class="line">O        4.4.4.4 [110/1001] via 172.16.46.4, 00:23:01, Tunnel0</span><br><span class="line">      5.0.0.0/32 is subnetted, 1 subnets</span><br><span class="line">O IA     5.5.5.5 [110/1021] via 172.16.46.4, 00:02:22, Tunnel0</span><br><span class="line">      6.0.0.0/8 is variably subnetted, 2 subnets, 2 masks</span><br><span class="line">C        6.6.6.0/24 is directly connected, Loopback0</span><br><span class="line">L        6.6.6.6/32 is directly connected, Loopback0</span><br><span class="line">      7.0.0.0/32 is subnetted, 1 subnets</span><br><span class="line">O        7.7.7.7 [110/11] via 192.168.67.7, 00:42:06, Ethernet0/1</span><br><span class="line">      100.0.0.0/32 is subnetted, 1 subnets</span><br><span class="line">O        100.1.1.1 [110/1011] via 172.16.46.4, 00:01:58, Tunnel0</span><br><span class="line">      172.16.0.0/16 is variably subnetted, 3 subnets, 2 masks</span><br><span class="line">O        172.16.35.0/24 [110/2010] via 172.16.46.4, 00:02:22, Tunnel0</span><br><span class="line">C        172.16.46.0/24 is directly connected, Tunnel0</span><br><span class="line">L        172.16.46.6/32 is directly connected, Tunnel0</span><br><span class="line">O     192.168.12.0/24 [110/1020] via 172.16.46.4, 00:23:01, Tunnel0</span><br><span class="line">O     192.168.13.0/24 [110/1020] via 172.16.46.4, 00:02:22, Tunnel0</span><br><span class="line">O     192.168.23.0/24 [110/1020] via 172.16.46.4, 00:01:58, Tunnel0</span><br><span class="line">O     192.168.24.0/24 [110/1010] via 172.16.46.4, 00:23:01, Tunnel0</span><br><span class="line">O IA  192.168.35.0/24 [110/1020] via 172.16.46.4, 00:02:22, Tunnel0</span><br><span class="line">      192.168.46.0/24 is variably subnetted, 2 subnets, 2 masks</span><br><span class="line">C        192.168.46.0/24 is directly connected, Ethernet0/0</span><br><span class="line">L        192.168.46.6/32 is directly connected, Ethernet0/0</span><br><span class="line">O     192.168.57.0/24 [110/20] via 192.168.67.7, 00:42:06, Ethernet0/1</span><br><span class="line">      192.168.67.0/24 is variably subnetted, 2 subnets, 2 masks</span><br><span class="line">C        192.168.67.0/24 is directly connected, Ethernet0/1</span><br><span class="line">L        192.168.67.6/32 is directly connected, Ethernet0/1</span><br><span class="line">O     192.168.184.0/24 [110/1010] via 172.16.46.4, 00:02:22, Tunnel0</span><br><span class="line">O     192.168.197.0/24 [110/1020] via 172.16.46.4, 00:01:58, Tunnel0</span><br></pre></td></tr></table></figure>





<p>装完NSSA</p>
<blockquote>
<p>屏蔽外部路由，形成一条默认路由0.0.0.0/0，指向R5和R6</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">O*IA  0.0.0.0/0 [110/11] via 192.168.67.6, 00:00:05, Ethernet0/1</span><br><span class="line">                [110/11] via 192.168.57.5, 00:00:05, Ethernet0/0</span><br><span class="line">      7.0.0.0/8 is variably subnetted, 2 subnets, 2 masks</span><br><span class="line">C        7.7.7.0/24 is directly connected, Loopback0</span><br><span class="line">L        7.7.7.7/32 is directly connected, Loopback0</span><br><span class="line">      192.168.57.0/24 is variably subnetted, 2 subnets, 2 masks</span><br><span class="line">C        192.168.57.0/24 is directly connected, Ethernet0/0</span><br><span class="line">L        192.168.57.7/32 is directly connected, Ethernet0/0</span><br><span class="line">      192.168.67.0/24 is variably subnetted, 2 subnets, 2 masks</span><br><span class="line">C        192.168.67.0/24 is directly connected, Ethernet0/1</span><br><span class="line">L        192.168.67.7/32 is directly connected, Ethernet0/1</span><br></pre></td></tr></table></figure>



<h2 id="路由汇总-1"><a href="#路由汇总-1" class="headerlink" title="路由汇总"></a>路由汇总</h2><p><strong>6、R3的路由汇总</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">R3:</span><br><span class="line">======</span><br><span class="line">$这些回环接口配置的ip地址宣告进了area 1，所以在area 1中汇总</span><br><span class="line">int lo1</span><br><span class="line">ip add 172.16.1.1 255.255.255.0</span><br><span class="line">int lo2</span><br><span class="line">ip add 172.16.2.1 255.255.255.0</span><br><span class="line">int lo3</span><br><span class="line">ip add 172.16.3.1 255.255.255.0</span><br><span class="line"></span><br><span class="line">int range lo1,lo2,lo3</span><br><span class="line">ip ospf 1 area 1</span><br><span class="line">router ospf 1</span><br><span class="line">area 1 range 172.16.0.0 255.255.0.0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">R5:</span><br><span class="line">======</span><br><span class="line">router ospf 1</span><br><span class="line">area 1 range 172.16.0.0 255.255.0.0</span><br><span class="line"></span><br><span class="line">R2:</span><br><span class="line">======</span><br><span class="line">router ospf 1</span><br><span class="line">area 1 range 172.16.0.0 255.255.0.0</span><br></pre></td></tr></table></figure>



<p> <font color="red" style="center">Question？：为什么R1读取不到R3的172.16.0.0/16的条目，而R5可以读到，因为R3和R5有一个Tunnel 吗？</font></p>
<p>在汇总之前，R1的路由表</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">      172.16.0.0/16 is variably subnetted, 5 subnets, 2 masks</span><br><span class="line">O IA     172.16.1.1/32 [110/11] via 192.168.184.3, 00:00:05, Ethernet0/2</span><br><span class="line">O IA     172.16.2.1/32 [110/11] via 192.168.184.3, 00:00:05, Ethernet0/2</span><br><span class="line">O IA     172.16.3.1/32 [110/11] via 192.168.184.3, 00:00:05, Ethernet0/2</span><br><span class="line">O        172.16.35.0/24 [110/1010] via 192.168.184.3, 00:37:33, Ethernet0/2</span><br><span class="line">O        172.16.46.0/24 [110/1010] via 192.168.184.4, 00:37:33, Ethernet0/2</span><br></pre></td></tr></table></figure>



<h2 id="OSPF认证"><a href="#OSPF认证" class="headerlink" title="OSPF认证"></a>OSPF认证</h2><p><strong>7、area 0的明文认证</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">R1-R3,先不开启R4的明文认证</span><br><span class="line">router ospf 1</span><br><span class="line">area 0 authentication</span><br><span class="line"></span><br><span class="line"><span class="comment">#注意，下面的所有代码都是R5和R6没有添加明文认证的，这里添加上明文认证</span></span><br><span class="line"><span class="comment">#难关area 0学习不到7.7.7.0的路由</span></span><br><span class="line">router ospf 1</span><br><span class="line">area 0 authentication</span><br></pre></td></tr></table></figure>

<p>等到40s死亡计时过了之后，就会发现R4失效：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">*Jan  1 03:13:17.836: %OSPF-5-ADJCHG: Process 1, Nbr 2.2.2.2 on Ethernet0/0 from FULL to DOWN, Neighbor Down: Dead timer expired</span><br><span class="line">R4(config)<span class="comment">#router</span></span><br><span class="line">*Jan  1 03:13:19.671: %OSPF-5-ADJCHG: Process 1, Nbr 2.2.2.2 on Ethernet0/2 from FULL to DOWN, Neighbor Down: Dead timer expired</span><br><span class="line">R4(config)<span class="comment">#router ospf 1</span></span><br><span class="line">R4(config-router)<span class="comment">#</span></span><br><span class="line">*Jan  1 03:13:21.215: %OSPF-5-ADJCHG: Process 1, Nbr 3.3.3.3 on Ethernet0/2 from FULL to DOWN, Neighbor Down: Dead timer expired</span><br></pre></td></tr></table></figure>

<p>一旦在R4上开启认证，R4又会重新从<code>Down</code>变成<code>Full</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">R4:</span><br><span class="line">router ospf 1</span><br><span class="line">area 0 authentication</span><br></pre></td></tr></table></figure>



<p><strong>R3-5，R4-6密文认证</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">R3:</span><br><span class="line">int e0/1</span><br><span class="line">ip ospf message-digest-key 1 md5 cis_pad</span><br><span class="line">ip ospf authentication message-digest</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置完之后，R3路由表中，R5的Dead Time会跌出30，然后直到消失，这是在R5的相应接口上也配置认证,彼此又会建立相应的连接。</span></span><br><span class="line">int e0/0</span><br><span class="line">ip ospf message-digest-key 1 md5 cis_pad</span><br><span class="line">ip ospf authentication message-digest</span><br></pre></td></tr></table></figure>



<h2 id="抑制路由"><a href="#抑制路由" class="headerlink" title="抑制路由"></a>抑制路由</h2><p><strong>8、禁止area 2内的路由被其他区域学到</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">R5:</span><br><span class="line">=====</span><br><span class="line">router ospf 1</span><br><span class="line">area 1 range 192.168.57.0 255.255.255.0 not-advertise</span><br><span class="line">area 1 range 192.168.67.0 255.255.255.0 not-advertise</span><br><span class="line">area 2 nssa translate type7 suppress-fa</span><br><span class="line"></span><br><span class="line">R6:</span><br><span class="line">=====</span><br><span class="line">router ospf 1</span><br><span class="line">area 1 range 192.168.57.0 255.255.255.0 not-advertise</span><br><span class="line">area 1 range 192.168.67.0 255.255.255.0 not-advertise</span><br><span class="line">area 2 nssa translate type7 suppress-fa</span><br></pre></td></tr></table></figure>









<h1 id="OSPF命令"><a href="#OSPF命令" class="headerlink" title="OSPF命令"></a>OSPF命令</h1><p>配置OSPF协议</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">router ospf [Process_ID]			<span class="comment">#进程ID本地有效</span></span><br><span class="line">network 1.1.1.0 0.0.0.255 area 0 	<span class="comment">#将1.1.1.0网段(包含子网掩码)宣告进OSPF网络</span></span><br><span class="line">router-id 1.1.1.1					<span class="comment">#设置Router-ID，注意需要重启生效</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#基于链路的配置</span></span><br><span class="line">int range e0/0 -1 					<span class="comment">#行入e/0、e0/1接口</span></span><br><span class="line">ip ospf 1 area 0 					<span class="comment">#将该接口加入OSPF，并且按照配置的子网掩码宣告其接口上</span></span><br></pre></td></tr></table></figure>



<p>配置OSPF优先级</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">int e0/0</span><br><span class="line">ip ospf priority 10		<span class="comment"># 默认为1</span></span><br><span class="line"><span class="comment"># 重置OSPF进程，重新选举</span></span><br><span class="line"><span class="keyword">do</span> clear ip ospf process</span><br></pre></td></tr></table></figure>



<p>LSA</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看1类LSA</span></span><br><span class="line">show ip ospf database router x.x.x.x</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看2类LSA</span></span><br><span class="line">show ip ospf database network x.x.x.x</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看3类LSA</span></span><br><span class="line">show ip ospf database summary x.x.x.x</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看4类LSA</span></span><br><span class="line">show ip ospf database asbr-summary x.x.x.x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看5类LSA</span></span><br><span class="line">show ip ospf database external x.x.x.x</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看7类LSA</span></span><br><span class="line">show ip ospf database router x.x.x.x</span><br></pre></td></tr></table></figure>


    </div>
    <p class="post-meta">
        <span class="post-cat">分类：
            <a class="cat-link" href="../../../../categories/%E8%B7%AF%E7%94%B1%E6%8A%80%E6%9C%AF/">路由技术</a>
        </span>
        <span class="post-tags">
            标签：
            
    
        <a href="../../../../tags/OSPF%E5%8D%8F%E8%AE%AE/" title="OSPF协议">OSPF协议</a>
    

        </span>
    </p>
</article>
<!-- 分享按钮 -->

  <div class="article-share clearfix text-center">
    <div class="share-area">
      <span class="share-txt">分享到：</span>
      <a href="javascript: window.open('http://service.weibo.com/share/share.php?url=' + encodeURIComponent(location.href) + '&title=' + document.title + '&language=zh_cn');" class="share-icon weibo"></a>
      <a href="javascript: alert('请复制链接到微信并发送');" class="share-icon wechat"></a>
      <a href="javascript: window.open('http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=' + encodeURIComponent(location.href) + '&title=' + document.title);" class="share-icon qqzone"></a>
      <a href="javascript: window.open('http://connect.qq.com/widget/shareqq/index.html?url=' + encodeURIComponent(location.href) + '&desc=Jelon个人博客&title=' + document.title + '&callback=' + encodeURIComponent(location.href));" class="share-icon qq"></a>
      <a href="javascript: window.open('http://shuo.douban.com/!service/share?href=' + encodeURIComponent(location.href) + '&name=' + document.title + '&text=' + document.title);" class="share-icon douban"></a>
    </div>
  </div>


<!-- 上一篇/下一篇 -->

<div class="article-nav clearfix">
    
    <span class="prev fl">
        上一篇<br >
        <a href="../../24/Ansible/">
            
                Ansible
            
        </a>
    </span>
    

    
    <span class="next fr">
        下一篇<br >
        <a href="../../19/LVS/">
            
                Linux Virtual Server
            
        </a>
    </span>
    
</div>

<!-- 文章评论 -->


            </div>

        </section>
        <!-- 侧栏部分 -->
<aside class="sidebar">
    
    <section class="widget">
        <h3 class="widget-hd"><strong>文章搜索</strong></h3>
        <div class="search-form">
  <form
    id="searchForm"
    method="GET"
    action="https://www.baidu.com/s"
    ectype="application/x-www-form-urlencoded"
    target="_blank"
    autocomplete="false"
    onsubmit="javascript: return false;">
    <input
      id="searchKeyword"
      type="text"
      class="form-control"
      placeholder="输入关键字搜索"
      autocomplete="false"
    />
    <input id="searchKeywordHidden" type="hidden" name="wd" />
    <input id="searchButton" class="btn" type="submit" value="搜索" />
  </form>
</div>
    </section>
    

    <section class="widget">
        <h3 class="widget-hd"><strong>文章分类</strong></h3>
        <!-- 文章分类 -->
<ul class="widget-bd">
    
    <li>
        <a href="../../../../categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/">中间件</a>
        <span class="badge">(3)</span>
    </li>
    
    <li>
        <a href="../../../../categories/%E7%BC%96%E7%A8%8B/">编程</a>
        <span class="badge">(7)</span>
    </li>
    
    <li>
        <a href="../../../../categories/%E5%AE%B9%E5%99%A8/">容器</a>
        <span class="badge">(1)</span>
    </li>
    
    <li>
        <a href="../../../../categories/Linux/">Linux</a>
        <span class="badge">(7)</span>
    </li>
    
    <li>
        <a href="../../../../categories/%E8%B7%AF%E7%94%B1%E6%8A%80%E6%9C%AF/">路由技术</a>
        <span class="badge">(3)</span>
    </li>
    
    <li>
        <a href="../../../../categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
        <span class="badge">(2)</span>
    </li>
    
    <li>
        <a href="../../../../categories/%E8%BF%90%E7%BB%B4/">运维</a>
        <span class="badge">(1)</span>
    </li>
    
    <li>
        <a href="../../../../categories/%E6%95%85%E9%9A%9C/">故障</a>
        <span class="badge">(1)</span>
    </li>
    
</ul>
    </section>

    
    <section class="widget">
        <h3 class="widget-hd"><strong>热门标签</strong></h3>
        <!-- 文章标签 -->
<div class="widget-bd tag-wrap">
  
    <a class="tag-item" href="../../../../tags/Ansible/" title="Ansible">Ansible (1)</a>
  
    <a class="tag-item" href="../../../../tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/" title="快捷键">快捷键 (6)</a>
  
    <a class="tag-item" href="../../../../tags/Django/" title="Django">Django (1)</a>
  
    <a class="tag-item" href="../../../../tags/Docker/" title="Docker">Docker (1)</a>
  
    <a class="tag-item" href="../../../../tags/history/" title="history">history (1)</a>
  
    <a class="tag-item" href="../../../../tags/KVM/" title="KVM">KVM (1)</a>
  
    <a class="tag-item" href="../../../../tags/Keepalived/" title="Keepalived">Keepalived (1)</a>
  
    <a class="tag-item" href="../../../../tags/LVS/" title="LVS">LVS (1)</a>
  
    <a class="tag-item" href="../../../../tags/Matplotlib/" title="Matplotlib">Matplotlib (1)</a>
  
    <a class="tag-item" href="../../../../tags/NodeJS/" title="NodeJS">NodeJS (1)</a>
  
    <a class="tag-item" href="../../../../tags/%E9%9A%8F%E7%AC%94/" title="随笔">随笔 (2)</a>
  
    <a class="tag-item" href="../../../../tags/OSPF%E5%8D%8F%E8%AE%AE/" title="OSPF协议">OSPF协议 (1)</a>
  
    <a class="tag-item" href="../../../../tags/Linux/" title="Linux">Linux (1)</a>
  
    <a class="tag-item" href="../../../../tags/ARP%E5%8D%8F%E8%AE%AE/" title="ARP协议">ARP协议 (1)</a>
  
    <a class="tag-item" href="../../../../tags/%E7%88%AC%E8%99%AB/" title="爬虫">爬虫 (1)</a>
  
    <a class="tag-item" href="../../../../tags/Redis/" title="Redis">Redis (1)</a>
  
    <a class="tag-item" href="../../../../tags/%E5%B0%8F%E5%9E%8B%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE/" title="小型路由协议">小型路由协议 (1)</a>
  
    <a class="tag-item" href="../../../../tags/MySQL/" title="MySQL">MySQL (1)</a>
  
    <a class="tag-item" href="../../../../tags/Switch/" title="Switch">Switch (1)</a>
  
    <a class="tag-item" href="../../../../tags/VsCode/" title="VsCode">VsCode (1)</a>
  
    <a class="tag-item" href="../../../../tags/Vue/" title="Vue">Vue (1)</a>
  
    <a class="tag-item" href="../../../../tags/WebSocket/" title="WebSocket">WebSocket (1)</a>
  
    <a class="tag-item" href="../../../../tags/NFS/" title="NFS">NFS (1)</a>
  
</div>
    </section>
    

    

    
    <!-- 友情链接 -->
    <section class="widget">
        <h3 class="widget-hd"><strong>友情链接</strong></h3>
        <!-- 文章分类 -->
<ul class="widget-bd">
    
        <li>
            <a href="https://www.ujslxw.com/" target="_blank" title="老刘的博客">老刘的博客</a>
        </li>
    
</ul>
    </section>
    
</aside>
<!-- / 侧栏部分 -->
    </div>

    <!-- 博客底部 -->
    <footer class="footer">
    &copy;
    
        2016-2020
    

    <a href="../../../../index.html">Jelon Loves You</a>
</footer>
<div class="back-to-top" id="JELON__backToTop" title="返回顶部">返回顶部</div>

    <!--博客js脚本 -->
    <!-- 这里放网站js脚本 -->

<script src="../../../../js/main.js?v=1593081903474.js"></script>

</body>
</html>